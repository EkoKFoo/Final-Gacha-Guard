// import 'package:firebase_auth/firebase_auth.dart';
// import 'package:flutter/material.dart';
// import 'package:gacha_guard/route.dart';
// import 'package:gacha_guard/services/auth_method.dart';
// import 'package:google_sign_in/google_sign_in.dart';
// import 'package:gacha_guard/features/auth/presentation/pages/profile_page.dart';
// import 'package:gacha_guard/features/auth/presentation/pages/signup_page.dart';
// import 'package:gacha_guard/features/auth/presentation/pages/budget_page.dart';
// import 'package:gacha_guard/features/auth/presentation/pages/manage_expenditure_page.dart';
// import 'package:gacha_guard/features/auth/presentation/pages/insights_page.dart';
// import 'package:gacha_guard/features/auth/presentation/pages/home_page.dart';
// import 'package:gacha_guard/features/auth/presentation/components/message_helper.dart';

// class LoginPage extends StatefulWidget {
//   const LoginPage({super.key});

//   @override
//   State<LoginPage> createState() => _LoginPageState();
// }

// class _LoginPageState extends State<LoginPage> {

//   bool _isLoading = false;
//   final _emailController = TextEditingController();
//   final _passwordController = TextEditingController();

//   //google
//   Future<void> _signUpWithGoogle() async {
//     setState(() {
//       _isLoading = true;
//     });
//     try {
//       final userCredential = await GoogleSignInService.signInWithGoogle();
      
//       if(!mounted) return;
//       if(userCredential != null) {
//         if(!mounted) return;
//         //navigate to the next screen if success
//         NavigationHelper.pushReplacement(context, HomePage());
//         //sign-up successful
//         print('User Signed In: ${userCredential.user?.displayName}');
//       }
//     } catch (e) {
//       if (!mounted) return;

//       //error
//       showSnackBar(
//         context: context,
//         type: SnackBarType.error,
//         description: "Google Login Failed",
//       );

//       print('Login Error: $e');
//     } finally {
//       if (mounted) {
//         setState(() {
//           _isLoading = false;
//         });
//       }
//     }
//   }


//   @override
//   void dispose() {
//     _emailController.dispose();
//     _passwordController.dispose();
//     super.dispose();
//   }

//   @override
//   Widget build(BuildContext context) {
//     return Scaffold(
//       body: Container(
//         decoration: BoxDecoration(
//           gradient: LinearGradient(
//             begin: Alignment.topLeft,
//             end: Alignment.bottomRight,
//             colors: [
//               Colors.pink.shade200,
//               Colors.blue.shade200,
//               Colors.cyan.shade200,
//             ],
//           ),
//         ),
//         child: SafeArea(
//           child: Column(
//             children: [
//               const Padding(
//                 padding: EdgeInsets.all(16.0),
//                 child: Text(
//                   'Login',
//                   style: TextStyle(
//                     fontSize: 18,
//                     fontWeight: FontWeight.w600,
//                     color: Colors.black87,
//                   ),
//                 ),
//               ),
//               Expanded(
//                 child: Center(
//                   child: SingleChildScrollView(
//                     padding: const EdgeInsets.symmetric(horizontal: 24),
//                     child: Container(
//                       decoration: BoxDecoration(
//                         color: Colors.white,
//                         borderRadius: BorderRadius.circular(20),
//                         border: Border.all(
//                           color: Colors.orange.shade300,
//                           width: 2,
//                         ),
//                         boxShadow: [
//                           BoxShadow(
//                             color: Colors.black.withOpacity(0.1),
//                             blurRadius: 10,
//                             offset: const Offset(0, 5),
//                           ),
//                         ],
//                       ),
//                       padding: const EdgeInsets.all(32),
//                       child: Column(
//                         mainAxisSize: MainAxisSize.min,
//                         children: [
//                           const Text(
//                             'Welcome Back!',
//                             style: TextStyle(
//                               fontSize: 32,
//                               fontWeight: FontWeight.bold,
//                               color: Color(0xFF7B88FF),
//                             ),
//                           ),
//                           const SizedBox(height: 32),
//                           _buildInputField(
//                             controller: _emailController,
//                             label: 'Email',
//                             hint: 'your.email@example.com',
//                             icon: Icons.email_outlined,
//                           ),
//                           const SizedBox(height: 20),
//                           _buildInputField(
//                             controller: _passwordController,
//                             label: 'Password',
//                             hint: 'Enter your password',
//                             icon: Icons.lock_outline,
//                             isPassword: true,
//                           ),
//                           const SizedBox(height: 12),
//                           Align(
//                             alignment: Alignment.centerRight,
//                             child: TextButton(
//                               onPressed: () {
//                                 // Handle forgot password
//                               },
//                               child: const Text(
//                                 'Forgot Password?',
//                                 style: TextStyle(
//                                   color: Colors.black54,
//                                   fontSize: 14,
//                                 ),
//                               ),
//                             ),
//                           ),
//                           const SizedBox(height: 12),
//                           SizedBox(
//                             width: double.infinity,
//                             height: 50,
//                             child: ElevatedButton(
//                               onPressed: () {
//                                 // Handle login
//                                 String email = _emailController.text;
//                                 String password = _passwordController.text;
//                                 print('Email: $email, Password: $password');
//                               },
//                               style: ElevatedButton.styleFrom(
//                                 backgroundColor: const Color(0xFF7B88FF),
//                                 shape: RoundedRectangleBorder(
//                                   borderRadius: BorderRadius.circular(12),
//                                 ),
//                                 elevation: 0,
//                               ),
//                               child: const Text(
//                                 'Login',
//                                 style: TextStyle(
//                                   fontSize: 16,
//                                   fontWeight: FontWeight.w600,
//                                   color: Colors.white,
//                                 ),
//                               ),
//                             ),
//                           ),
//                           const SizedBox(height: 20),
//                           SizedBox(
//                             width: double.infinity,
//                             height: 50,
//                             child: OutlinedButton.icon(
//                               onPressed: _isLoading ? null : _signUpWithGoogle,
//                               icon: Image.network(
//                                 'https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg',
//                                 height: 24,
//                                 width: 24,
//                               ),
//                               label: const Text(
//                                 'Login with Google',
//                                 style: TextStyle(
//                                   fontSize: 16,
//                                   fontWeight: FontWeight.w500,
//                                   color: Colors.black87,
//                                 ),
//                               ),
//                               style: OutlinedButton.styleFrom(
//                                 side: const BorderSide(
//                                   color: Colors.black12,
//                                   width: 1,
//                                 ),
//                                 shape: RoundedRectangleBorder(
//                                   borderRadius: BorderRadius.circular(12),
//                                 ),
//                                 backgroundColor: Colors.white,
//                               ),
//                             ),
//                           ),
//                           const SizedBox(height: 20),
//                           Row(
//                             mainAxisAlignment: MainAxisAlignment.center,
//                             children: [
//                               const Text(
//                                 "Don't have an account? ",
//                                 style: TextStyle(
//                                   color: Colors.black54,
//                                   fontSize: 14,
//                                 ),
//                               ),
//                               GestureDetector(
//                                 onTap: () {
//                                   // Navigate to register page
//                                     //test for moving
//                                       Navigator.push(
//                                       context,
//                                       MaterialPageRoute(builder: (context) => const SignUpPage()),
//                                       // MaterialPageRoute(builder: (context) => const HomePage()),
//                                       );
//                                 },
//                                 child: const Text(
//                                   'Register',
//                                   style: TextStyle(
//                                     color: Colors.orange,
//                                     fontSize: 14,
//                                     fontWeight: FontWeight.w600,
//                                   ),
//                                 ),
//                               ),
//                             ],
//                           ),
//                         ],
//                       ),
//                     ),
//                   ),
//                 ),
//               ),
//             ],
//           ),
//         ),
//       ),
//     );
//   }

//   Widget _buildInputField({
//     required TextEditingController controller,
//     required String label,
//     required String hint,
//     required IconData icon,
//     bool isPassword = false,
//   }) {
//     return Column(
//       crossAxisAlignment: CrossAxisAlignment.start,
//       children: [
//         Row(
//           children: [
//             Icon(icon, size: 18, color: Colors.black87),
//             const SizedBox(width: 8),
//             Text(
//               label,
//               style: const TextStyle(
//                 fontSize: 14,
//                 fontWeight: FontWeight.w600,
//                 color: Colors.black87,
//               ),
//             ),
//           ],
//         ),
//         const SizedBox(height: 8),
//         TextField(
//           controller: controller,
//           obscureText: isPassword,
//           decoration: InputDecoration(
//             hintText: hint,
//             hintStyle: TextStyle(
//               color: Colors.grey.shade400,
//               fontSize: 14,
//             ),
//             filled: true,
//             fillColor: Colors.grey.shade100,
//             border: OutlineInputBorder(
//               borderRadius: BorderRadius.circular(12),
//               borderSide: BorderSide.none,
//             ),
//             contentPadding: const EdgeInsets.symmetric(
//               horizontal: 16,
//               vertical: 16,
//             ),
//           ),
//         ),
//       ],
//     );
//   }
// }